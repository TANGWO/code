<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

  <mapper namespace="com.epxing.mapper.UserMapper">
  	 
  	 <!--   account;              
			password;             
			realName;             
			phone;                
			idCard;               
			workUnit;             
			politicalStatus;   //政治面貌
			technicalPosition;//专业
			educationalBackground; //教育背景
			
			-->
			
	<!-- 用户信息完善 -->		
	<update id="updateInfo" parameterType="com.epxing.entity.WebUser" >
		update WebUser 
		<set>
		     <if test="user.realName  != null and user.realName != '' ">
		   		 realName = #{user.realName},
		     </if>
		     <if test="user.password  != null and user.password != '' ">
		   		 password = #{user.password},
		     </if>
		     <if test="user.phone     != null and user.phone    != '' ">
		    	 phone = #{user.phone},
		     </if>
		     <if test="user.idCard    != null and user.idCard   != '' ">
		    	 idCard = #{user.idCard},
		     </if>
		     <if test="user.workUnit  != null and user.workUnit != '' ">
		    	 workUnit = #{user.workUnit},
		     </if>
		     <if test="user.politicalStatus  != null and  user.politicalStatus  != '' ">
		    	 politicalStatus = #{user.politicalStatus},
		     </if>
		     <if test="user.technicalPosition  != null and  user.technicalPosition  != '' ">
		    	 technicalPosition = #{user.technicalPosition},
		     </if>
		     <if test="user.educationalBackground  != null and  user.educationalBackground  != '' ">
		    	 educationalBackground = #{user.educationalBackground}
		     </if>
		</set>
		<where>
			account = #{user.account}
		</where>
	</update>
	
	<!--修改密码  -->		
	<update id="updateAccountAndPassword" parameterType="String">
		update WebUser 
		<set>
		   <if test="password  != null and  password !='' ">
		  	  password =#{password}
		   </if>
		</set>
		<where>
			<if test="realName  != null and realName != '' ">
				realName = #{realName} 
			</if> 
			 <if test="idCard    != null and idCard   != '' ">
			 	and  idCard = #{idCard}
			 </if>
		</where>
	</update>		
			
			
			
			
			
			
			
			
			
			
			
	
  	  
  </mapper>